{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/dpisa/Desktop/bossa-box/frontend/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/dpisa/Desktop/bossa-box/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport Head from \"next/head\";\nimport Image from \"next/image\";\nimport { useEffect, useState } from \"react\";\nimport styles from \"../styles/Home.module.css\";\nimport Card from \"../components/Card\";\nimport Modal from \"../components/Modal\";\nimport ConfirmationModal from \"../components/ConfirmationModal\";\nexport default function Home() {\n  var _useState = useState([]),\n      posts = _useState[0],\n      setPosts = _useState[1];\n\n  var _useState2 = useState(\"\"),\n      searchInput = _useState2[0],\n      setSearchInput = _useState2[1];\n\n  var _useState3 = useState(false),\n      searchForTags = _useState3[0],\n      setSearchForTags = _useState3[1];\n\n  var _useState4 = useState({}),\n      toolSelected = _useState4[0],\n      setToolSelected = _useState4[1];\n\n  var _useState5 = useState(false),\n      addModal = _useState5[0],\n      setAddModal = _useState5[1];\n\n  var _useState6 = useState(false),\n      addToolModal = _useState6[0],\n      setAddToolModal = _useState6[1];\n\n  var _useState7 = useState(false),\n      confirmationModal = _useState7[0],\n      setConfirmationModal = _useState7[1];\n\n  function fetchPosts() {\n    return _fetchPosts.apply(this, arguments);\n  }\n\n  function _fetchPosts() {\n    _fetchPosts = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var res, data;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return fetch(\"http://localhost:3000/tools\");\n\n            case 2:\n              res = _context.sent;\n              _context.next = 5;\n              return res.json();\n\n            case 5:\n              data = _context.sent;\n              setPosts(data);\n\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return _fetchPosts.apply(this, arguments);\n  }\n\n  function fetchFilteredPosts() {\n    return _fetchFilteredPosts.apply(this, arguments);\n  }\n\n  function _fetchFilteredPosts() {\n    _fetchFilteredPosts = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var res, data, _res, _data;\n\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              if (searchForTags) {\n                _context2.next = 10;\n                break;\n              }\n\n              _context2.next = 3;\n              return fetch(\"http://localhost:3000/tools?q=\".concat(searchInput));\n\n            case 3:\n              res = _context2.sent;\n              _context2.next = 6;\n              return res.json();\n\n            case 6:\n              data = _context2.sent;\n              setPosts(data);\n              _context2.next = 17;\n              break;\n\n            case 10:\n              _context2.next = 12;\n              return fetch(\"http://localhost:3000/tools?tags_like=\".concat(searchInput));\n\n            case 12:\n              _res = _context2.sent;\n              _context2.next = 15;\n              return _res.json();\n\n            case 15:\n              _data = _context2.sent;\n              setPosts(_data);\n\n            case 17:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n    return _fetchFilteredPosts.apply(this, arguments);\n  }\n\n  function handleAddPost() {\n    setAddModal(true);\n    setAddToolModal(true);\n  }\n\n  function handleCloseModal() {\n    setAddModal(false);\n    setAddToolModal(false);\n    setConfirmationModal(false);\n  }\n\n  function handleSelectPost(content) {\n    setToolSelected(content);\n    setAddModal(true);\n    setConfirmationModal(true);\n  }\n\n  useEffect(function () {\n    var timeoutId = setTimeout(function () {\n      return fetchFilteredPosts();\n    }, 500);\n    return function () {\n      return clearTimeout(timeoutId);\n    };\n  }, [searchInput, searchForTags]);\n  useEffect(function () {\n    fetchPosts();\n  }, []);\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: styles.container,\n    children: [/*#__PURE__*/_jsxs(Head, {\n      children: [/*#__PURE__*/_jsx(\"title\", {\n        children: \"VUTTR\"\n      }), /*#__PURE__*/_jsx(\"link\", {\n        rel: \"icon\",\n        href: \"/favicon.ico\"\n      })]\n    }), /*#__PURE__*/_jsxs(\"main\", {\n      className: \"\".concat(styles.main, \" \").concat(addModal && styles.modalIsOpen),\n      children: [/*#__PURE__*/_jsx(\"h1\", {\n        className: styles.title,\n        children: \"VUTTR\"\n      }), /*#__PURE__*/_jsx(\"h2\", {\n        children: \"Very Useful Tools to Remember\"\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: styles.header,\n        children: [/*#__PURE__*/_jsxs(\"div\", {\n          className: styles.headerLeft,\n          children: [/*#__PURE__*/_jsxs(\"svg\", {\n            className: styles.searchIcon,\n            xmlns: \"http://www.w3.org/2000/svg\",\n            width: \"47.707\",\n            height: \"47.707\",\n            viewBox: \"0 0 47.707 47.707\",\n            style: {\n              fill: \"none\",\n              stroke: \"#170c3a\",\n              strokeMiterlimit: 10,\n              strokeWidth: \"2px\",\n              width: \"20px\",\n              height: \"20px\"\n            },\n            children: [/*#__PURE__*/_jsx(\"defs\", {}), /*#__PURE__*/_jsxs(\"g\", {\n              transform: \"translate(-1272 -1799)\",\n              children: [/*#__PURE__*/_jsx(\"path\", {\n                className: \"a\",\n                d: \"M39.049,39.049,56,56\",\n                transform: \"translate(1263 1790)\"\n              }), /*#__PURE__*/_jsx(\"circle\", {\n                className: \"a\",\n                cx: \"17\",\n                cy: \"17\",\n                r: \"17\",\n                transform: \"translate(1273 1800)\"\n              })]\n            })]\n          }), /*#__PURE__*/_jsx(\"input\", {\n            className: styles.searchInput,\n            type: \"text\",\n            placeholder: \"search\",\n            value: searchInput,\n            onChange: function onChange(e) {\n              return setSearchInput(e.target.value);\n            }\n          }), /*#__PURE__*/_jsx(\"input\", {\n            type: \"checkbox\",\n            value: searchForTags,\n            onChange: function onChange() {\n              return setSearchForTags(!searchForTags);\n            }\n          }), /*#__PURE__*/_jsx(\"label\", {\n            className: styles.searchLabel,\n            children: \"search in tags only\"\n          })]\n        }), /*#__PURE__*/_jsxs(\"button\", {\n          className: styles.addButton,\n          onClick: handleAddPost,\n          children: [/*#__PURE__*/_jsxs(\"svg\", {\n            xmlns: \"http://www.w3.org/2000/svg\",\n            width: \"61.414\",\n            height: \"61.42\",\n            viewBox: \"0 0 61.414 61.42\",\n            style: {\n              fill: \"none\",\n              stroke: \"#FFFFFF\",\n              strokeMiterlimit: 10,\n              strokeWidth: \"10px\",\n              transform: \"rotate(45deg)\",\n              width: \"15px\",\n              height: \"15px\"\n            },\n            children: [/*#__PURE__*/_jsx(\"defs\", {}), /*#__PURE__*/_jsx(\"g\", {\n              transform: \"translate(-568.793 -714.793)\",\n              children: /*#__PURE__*/_jsx(\"path\", {\n                className: \"a\",\n                d: \"M80,20.005l-60,60m60,0L20,20\",\n                transform: \"translate(549.501 695.5)\"\n              })\n            })]\n          }), /*#__PURE__*/_jsx(\"label\", {\n            className: styles.addLabel,\n            children: \"Add\"\n          })]\n        })]\n      }), !posts.length == 0 ? posts.map(function (post) {\n        return /*#__PURE__*/_jsx(Card, {\n          content: post,\n          onDelete: fetchPosts,\n          setToolSelected: handleSelectPost\n        }, post.id);\n      }) : /*#__PURE__*/_jsx(\"div\", {\n        className: styles.noPosts,\n        children: /*#__PURE__*/_jsxs(\"div\", {\n          className: styles.noPostsImg,\n          children: [/*#__PURE__*/_jsx(Image, {\n            src: \"/caveman.gif\",\n            alt: \"Not Found\",\n            width: 500,\n            height: 400\n          }), /*#__PURE__*/_jsx(\"h2\", {\n            className: styles.notFound,\n            children: \"Ooops, no posts found...\"\n          })]\n        })\n      }), addToolModal && /*#__PURE__*/_jsx(Modal, {\n        setAddModal: handleCloseModal,\n        fetchPosts: fetchPosts\n      }), toolSelected && confirmationModal && /*#__PURE__*/_jsx(ConfirmationModal, {\n        setAddModal: handleCloseModal,\n        tool: toolSelected,\n        fetchPosts: fetchPosts\n      })]\n    })]\n  });\n}","map":null,"metadata":{},"sourceType":"module"}
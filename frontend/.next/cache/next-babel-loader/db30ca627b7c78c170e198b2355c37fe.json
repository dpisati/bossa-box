{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\dpisa\\\\Desktop\\\\bossa-box\\\\frontend\\\\components\\\\Modal\\\\index.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { useRef, useState } from \"react\";\nimport styles from \"./Modal.module.css\";\nexport default function Modal({\n  setAddModal,\n  fetchPosts\n}) {\n  const tagInput = useRef(null);\n  let initialErrors = {};\n  const {\n    0: errors,\n    1: setErrors\n  } = useState(initialErrors);\n  const {\n    0: title,\n    1: setTitle\n  } = useState(\"\");\n  const {\n    0: link,\n    1: setLink\n  } = useState(\"\");\n  const {\n    0: description,\n    1: setDescription\n  } = useState(\"\");\n  const {\n    0: tag,\n    1: setTag\n  } = useState(\"\");\n  const {\n    0: tags,\n    1: setTags\n  } = useState([]);\n\n  async function validateForm() {\n    let initialErrors = {};\n\n    if (title.length === 0) {\n      initialErrors.title = \"Title is required\";\n    }\n\n    if (link.length === 0) {\n      initialErrors.link = \"Link is required\";\n    }\n\n    if (description.length === 0) {\n      initialErrors.description = \"Description is required\";\n    }\n\n    if (tags.length === 0) {\n      initialErrors.tags = \"A Tag is required\";\n    }\n\n    setErrors(initialErrors);\n\n    if (Object.keys(initialErrors).length === 0) {\n      await fetch(\"http://localhost:3000/tools\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          title,\n          link,\n          description,\n          tags\n        })\n      });\n      fetchPosts();\n      handleCloseModal();\n    }\n  }\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n    await validateForm();\n  }\n\n  function handleCloseModal() {\n    setAddModal(false);\n    setTitle(\"\");\n    setDescription(\"\");\n    setLink(\"\");\n    setTag(\"\");\n    setTags([]);\n  }\n\n  function handleAddTag() {\n    const trimTag = tag.trim();\n\n    if (trimTag) {\n      handleFocus();\n      setTags([...tags, trimTag]);\n      setTag(\"\");\n    }\n\n    return handleFocus();\n  }\n\n  function handleRemoveTag(e) {\n    const result = tags.filter(word => word != e);\n    setTags(result);\n  }\n\n  function handleFocus() {\n    tagInput.current.focus();\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.modal,\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      onKeyPress: e => {\n        e.key === \"Enter\" && e.preventDefault();\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.modalBody,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.modalHeader,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.modalHeaderAdd,\n            children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n              xmlns: \"http://www.w3.org/2000/svg\",\n              width: \"61.414\",\n              height: \"61.42\",\n              viewBox: \"0 0 61.414 61.42\",\n              style: {\n                fill: \"none\",\n                stroke: \"#170C3A\",\n                strokeMiterlimit: 10,\n                strokeWidth: \"10px\",\n                transform: \"rotate(45deg)\",\n                width: \"15px\",\n                height: \"15px\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"defs\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 113,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"g\", {\n                transform: \"translate(-568.793 -714.793)\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  className: \"a\",\n                  d: \"M80,20.005l-60,60m60,0L20,20\",\n                  transform: \"translate(549.501 695.5)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 115,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 114,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: styles.modalTitle,\n              children: \"Add a new tool\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n            className: styles.closeModal,\n            onClick: handleCloseModal,\n            xmlns: \"http://www.w3.org/2000/svg\",\n            width: \"13.414\",\n            height: \"13.415\",\n            viewBox: \"0 0 13.414 13.415\",\n            style: {\n              fill: \"none\",\n              stroke: \"#8f8a9b\",\n              strokeMiterlimit: 10,\n              strokeWidth: \"2px\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"defs\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n              className: \"a\",\n              d: \"M32,20,20,32m12,0L20,20\",\n              transform: \"translate(-19.292 -19.293)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.modalContent,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: styles.modalLabel,\n            children: [\"Tool Title \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: `${errors.title && styles.span}`,\n              children: \"*\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 61\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: `${styles.modalInput} ${errors.title && styles.modalInputError}`,\n            type: \"text\",\n            value: title,\n            onChange: e => {\n              setTitle(e.target.value);\n              setErrors(_objectSpread(_objectSpread({}, errors), {}, {\n                title: \"\"\n              }));\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 13\n          }, this), errors.title && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: styles.modalErrorMessage,\n            children: errors.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 31\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            className: styles.modalLabel,\n            children: [\"Link \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: `${errors.link && styles.span}`,\n              children: \"*\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 55\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: `${styles.modalInput} ${errors.link && styles.modalInputError}`,\n            type: \"text\",\n            value: link,\n            onChange: e => {\n              setLink(e.target.value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 13\n          }, this), errors.link && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: styles.modalErrorMessage,\n            children: errors.link\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 30\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            className: styles.modalLabel,\n            children: [\"Description \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: `${errors.description && styles.span}`,\n              children: \"*\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 62\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            className: `${styles.modalInputTextArea} ${errors.description && styles.modalInputTextAreaError}`,\n            type: \"text\",\n            value: description,\n            onChange: e => {\n              setDescription(e.target.value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 13\n          }, this), errors.description && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: styles.modalErrorMessage,\n            children: errors.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            className: styles.modalLabel,\n            children: [\"Tags \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: `${errors.tags && styles.span}`,\n              children: \"*\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 55\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.addTags,\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              ref: tagInput,\n              className: `${styles.modalInput} ${errors.tags && styles.modalInputError}`,\n              type: \"text\",\n              value: tag,\n              onKeyPress: e => {\n                e.key === \"Enter\" && (e.preventDefault(), handleAddTag());\n              },\n              onChange: e => {\n                setTag(e.target.value);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 15\n            }, this), errors.tags && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: styles.modalErrorMessage,\n              children: errors.tags\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 32\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              onClick: () => handleAddTag(),\n              className: styles.addTagField,\n              children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                className: styles.addTag,\n                xmlns: \"http://www.w3.org/2000/svg\",\n                viewBox: \"0 0 61.414 61.42\",\n                children: /*#__PURE__*/_jsxDEV(\"g\", {\n                  transform: \"translate(-568.793 -714.793)\",\n                  children: /*#__PURE__*/_jsxDEV(\"path\", {\n                    className: \"addTag\",\n                    d: \"M80,20.005l-60,60m60,0L20,20\",\n                    transform: \"translate(549.501 695.5)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 211,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 210,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 205,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: styles.tagsContainer,\n                children: tags && tags.map(tag => {\n                  return /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: styles.tag,\n                    value: tag,\n                    onClick: () => handleRemoveTag(tag),\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      children: tag\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 230,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n                      className: styles.removeTag,\n                      xmlns: \"http://www.w3.org/2000/svg\",\n                      width: \"10\",\n                      height: \"10\",\n                      viewBox: \"0 0 13.414 13.415\",\n                      style: {\n                        fill: \"none\",\n                        stroke: \"#8f8a9b\",\n                        strokeMiterlimit: 10,\n                        strokeWidth: \"2px\"\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(\"defs\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 244,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                        className: \"a\",\n                        d: \"M32,20,20,32m12,0L20,20\",\n                        transform: \"translate(-19.292 -19.293)\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 245,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 231,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 225,\n                    columnNumber: 25\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 221,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n          className: styles.modalFooter,\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: styles.cancelButton,\n            onClick: handleCloseModal,\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: styles.saveButton,\n            type: \"submit\",\n            value: \"Submit\",\n            children: \"Save\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 88,\n    columnNumber: 5\n  }, this);\n}","map":{"version":3,"sources":["C:/Users/dpisa/Desktop/bossa-box/frontend/components/Modal/index.js"],"names":["useRef","useState","styles","Modal","setAddModal","fetchPosts","tagInput","initialErrors","errors","setErrors","title","setTitle","link","setLink","description","setDescription","tag","setTag","tags","setTags","validateForm","length","Object","keys","fetch","method","headers","body","JSON","stringify","handleCloseModal","handleSubmit","e","preventDefault","handleAddTag","trimTag","trim","handleFocus","handleRemoveTag","result","filter","word","current","focus","modal","key","modalBody","modalHeader","modalHeaderAdd","fill","stroke","strokeMiterlimit","strokeWidth","transform","width","height","modalTitle","closeModal","modalContent","modalLabel","span","modalInput","modalInputError","target","value","modalErrorMessage","modalInputTextArea","modalInputTextAreaError","addTags","addTagField","addTag","tagsContainer","map","removeTag","modalFooter","cancelButton","saveButton"],"mappings":"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","sourcesContent":["import { useRef, useState } from \"react\";\r\n\r\nimport styles from \"./Modal.module.css\";\r\n\r\nexport default function Modal({ setAddModal, fetchPosts }) {\r\n  const tagInput = useRef(null);\r\n\r\n  let initialErrors = {};\r\n\r\n  const [errors, setErrors] = useState(initialErrors);\r\n\r\n  const [title, setTitle] = useState(\"\");\r\n  const [link, setLink] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  const [tag, setTag] = useState(\"\");\r\n  const [tags, setTags] = useState([]);\r\n\r\n\r\n  async function validateForm() {\r\n    let initialErrors = {};\r\n\r\n    if(title.length === 0) {\r\n      initialErrors.title = \"Title is required\"\r\n    } \r\n    if(link.length === 0) {\r\n      initialErrors.link = \"Link is required\"\r\n    } \r\n    if(description.length === 0) {\r\n      initialErrors.description = \"Description is required\"\r\n    } \r\n    if(tags.length === 0) {\r\n      initialErrors.tags = \"A Tag is required\"\r\n    }\r\n    setErrors(initialErrors);\r\n\r\n    if(Object.keys(initialErrors).length === 0) {\r\n      await fetch(\"http://localhost:3000/tools\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({\r\n          title,\r\n          link,\r\n          description,\r\n          tags,\r\n        }),\r\n      });\r\n      fetchPosts();\r\n      handleCloseModal(); \r\n    }\r\n  }\r\n\r\n  \r\n  async function handleSubmit(e) {\r\n    e.preventDefault();\r\n    await validateForm();\r\n  }\r\n\r\n  function handleCloseModal() {\r\n    setAddModal(false);\r\n    setTitle(\"\");\r\n    setDescription(\"\");\r\n    setLink(\"\");\r\n    setTag(\"\");\r\n    setTags([]);\r\n  }\r\n\r\n  function handleAddTag() {\r\n    const trimTag = tag.trim();\r\n    if (trimTag) {\r\n      handleFocus();\r\n      setTags([...tags, trimTag]);\r\n      setTag(\"\");\r\n    }\r\n    return handleFocus();\r\n  }\r\n\r\n  function handleRemoveTag(e) {\r\n    const result = tags.filter((word) => word != e);\r\n    setTags(result);\r\n  }\r\n\r\n  function handleFocus() {\r\n    tagInput.current.focus();\r\n  }\r\n\r\n\r\n  return (\r\n    <div className={styles.modal}>\r\n      <form\r\n        onSubmit={handleSubmit}\r\n        onKeyPress={(e) => {\r\n          e.key === \"Enter\" && e.preventDefault();\r\n        }}\r\n      >\r\n        <div className={styles.modalBody}>\r\n          <div className={styles.modalHeader}>\r\n            <div className={styles.modalHeaderAdd}>\r\n              <svg\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                width=\"61.414\"\r\n                height=\"61.42\"\r\n                viewBox=\"0 0 61.414 61.42\"\r\n                style={{\r\n                  fill: \"none\",\r\n                  stroke: \"#170C3A\",\r\n                  strokeMiterlimit: 10,\r\n                  strokeWidth: \"10px\",\r\n                  transform: \"rotate(45deg)\",\r\n                  width: \"15px\",\r\n                  height: \"15px\",\r\n                }}\r\n              >\r\n                <defs></defs>\r\n                <g transform=\"translate(-568.793 -714.793)\">\r\n                  <path\r\n                    className=\"a\"\r\n                    d=\"M80,20.005l-60,60m60,0L20,20\"\r\n                    transform=\"translate(549.501 695.5)\"\r\n                  />\r\n                </g>\r\n              </svg>\r\n              <h3 className={styles.modalTitle}>Add a new tool</h3>\r\n            </div>\r\n            <svg\r\n              className={styles.closeModal}\r\n              onClick={handleCloseModal}\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              width=\"13.414\"\r\n              height=\"13.415\"\r\n              viewBox=\"0 0 13.414 13.415\"\r\n              style={{\r\n                fill: \"none\",\r\n                stroke: \"#8f8a9b\",\r\n                strokeMiterlimit: 10,\r\n                strokeWidth: \"2px\",\r\n              }}\r\n            >\r\n              <defs></defs>\r\n              <path\r\n                className=\"a\"\r\n                d=\"M32,20,20,32m12,0L20,20\"\r\n                transform=\"translate(-19.292 -19.293)\"\r\n              />\r\n            </svg>\r\n          </div>\r\n          <div className={styles.modalContent}>\r\n            <label className={styles.modalLabel}>Tool Title <span className={`${ errors.title && styles.span}`}>*</span></label>\r\n            <input\r\n              className={`${styles.modalInput} ${errors.title && styles.modalInputError}`}\r\n              type=\"text\"\r\n              value={title}\r\n              onChange={(e) => {\r\n                setTitle(e.target.value)\r\n                setErrors({...errors, title: \"\"});\r\n              }}\r\n            />\r\n\r\n            { errors.title && <p className={styles.modalErrorMessage}>{errors.title}</p>}\r\n\r\n            <label className={styles.modalLabel}>Link <span className={`${ errors.link && styles.span}`}>*</span></label>\r\n            <input\r\n              className={`${styles.modalInput} ${errors.link && styles.modalInputError}`}\r\n              type=\"text\"\r\n              value={link}\r\n              onChange={(e) => {\r\n                setLink(e.target.value);\r\n              }}\r\n            />\r\n\r\n            { errors.link && <p className={styles.modalErrorMessage}>{errors.link}</p>}\r\n\r\n            <label className={styles.modalLabel}>Description <span className={`${ errors.description && styles.span}`}>*</span></label>\r\n            <textarea\r\n              className={`${styles.modalInputTextArea} ${errors.description && styles.modalInputTextAreaError}`}\r\n              type=\"text\"\r\n              value={description}\r\n              onChange={(e) => {\r\n                setDescription(e.target.value);\r\n              }}\r\n            />\r\n            \r\n            { errors.description && <p className={styles.modalErrorMessage}>{errors.description}</p>}\r\n\r\n            <label className={styles.modalLabel}>Tags <span className={`${ errors.tags && styles.span}`}>*</span></label>\r\n            <div className={styles.addTags}>\r\n              <input\r\n                ref={tagInput}\r\n                className={`${styles.modalInput} ${errors.tags && styles.modalInputError}`}\r\n                type=\"text\"\r\n                value={tag}\r\n                onKeyPress={(e) => {\r\n                  e.key === \"Enter\" && (e.preventDefault(), handleAddTag());\r\n                }}\r\n                onChange={(e) => {\r\n                  setTag(e.target.value);\r\n                }}\r\n              />\r\n\r\n              { errors.tags && <p className={styles.modalErrorMessage}>{errors.tags}</p>}\r\n\r\n              <div\r\n                onClick={() => handleAddTag()}\r\n                className={styles.addTagField}\r\n              >\r\n                <svg\r\n                  className={styles.addTag}\r\n                  xmlns=\"http://www.w3.org/2000/svg\"\r\n                  viewBox=\"0 0 61.414 61.42\"\r\n                >\r\n                  <g transform=\"translate(-568.793 -714.793)\">\r\n                    <path\r\n                      className=\"addTag\"\r\n                      d=\"M80,20.005l-60,60m60,0L20,20\"\r\n                      transform=\"translate(549.501 695.5)\"\r\n                    />\r\n                  </g>\r\n                </svg>\r\n              </div>\r\n\r\n              <p>\r\n                <div className={styles.tagsContainer}>\r\n                  {tags &&\r\n                    tags.map((tag) => {\r\n                      return (\r\n                        <div\r\n                          className={styles.tag}\r\n                          value={tag}\r\n                          onClick={() => handleRemoveTag(tag)}\r\n                        >\r\n                          <p>{tag}</p>\r\n                          <svg\r\n                            className={styles.removeTag}\r\n                            xmlns=\"http://www.w3.org/2000/svg\"\r\n                            width=\"10\"\r\n                            height=\"10\"\r\n                            viewBox=\"0 0 13.414 13.415\"\r\n                            style={{\r\n                              fill: \"none\",\r\n                              stroke: \"#8f8a9b\",\r\n                              strokeMiterlimit: 10,\r\n                              strokeWidth: \"2px\",\r\n                            }}\r\n                          >\r\n                            <defs></defs>\r\n                            <path\r\n                              className=\"a\"\r\n                              d=\"M32,20,20,32m12,0L20,20\"\r\n                              transform=\"translate(-19.292 -19.293)\"\r\n                            />\r\n                          </svg>\r\n                        </div>\r\n                      );\r\n                    })}\r\n                </div>\r\n              </p>\r\n            </div>\r\n          </div>\r\n\r\n          <footer className={styles.modalFooter}>\r\n            <button className={styles.cancelButton} onClick={handleCloseModal}>\r\n              Cancel\r\n            </button>\r\n            <button className={styles.saveButton} type=\"submit\" value=\"Submit\">\r\n              Save\r\n            </button>\r\n          </footer>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}